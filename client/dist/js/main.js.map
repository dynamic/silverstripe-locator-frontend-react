{"version":3,"sources":["webpack:///./client/src/js/actions/locationActions.js","webpack:///./client/src/js/actions/mapActions.js","webpack:///./client/src/js/boot/index.jsx","webpack:///./client/src/js/actions/ActionTypes.js","webpack:///./client/src/js/reducers/index.js","webpack:///./client/src/js/reducers/searchReducer.js","webpack:///./client/src/js/reducers/mapReducer.js","webpack:///./client/src/js/reducers/settingsReducer.js","webpack:///./client/src/js/reducers/locationReducer.js","webpack:///./client/src/js/components/Locator.jsx","webpack:///./client/src/js/actions/settingsActions.js","webpack:///./client/src/js/components/search/SearchBar.jsx","webpack:///./client/src/js/components/search/RadiusDropDown.jsx","webpack:///./client/src/js/components/search/CategoryDropDown.jsx","webpack:///./client/src/js/components/map/MapContainer.jsx","webpack:///./client/src/js/components/map/Map.jsx","webpack:///./client/src/js/components/list/List.jsx","webpack:///./client/src/js/components/list/Location.jsx","webpack:///./client/src/js/components/Loading.jsx"],"names":["fetchLocations","params","loc","window","location","type","FETCH_LOCATIONS","payload","get","protocol","host","pathname","openMarker","highlightLocation","closeMarker","target","MARKER_CLICK","key","MARKER_CLOSE","container","document","querySelector","composedMiddleware","promiseTypeSuffixes","__REDUX_DEVTOOLS_EXTENSION__","f","store","addEventListener","render","ActionTypes","FETCH_INFO_WINDOW","FETCH_LIST","SEARCH","FETCH_LOCATIONS_LOADING","FETCH_LOCATIONS_SUCCESS","FETCH_LOCATIONS_ERROR","FETCH_INFO_WINDOW_LOADING","FETCH_INFO_WINDOW_SUCCESS","FETCH_INFO_WINDOW_ERROR","FETCH_LIST_LOADING","FETCH_LIST_SUCCESS","FETCH_LIST_ERROR","reducers","search","map","settings","locations","reducer","defaultState","Object","assign","address","radius","category","parse","href","query","state","action","current","showCurrent","isLoading","loadedSettings","loadedWindowTemplate","loadedListTemplate","infoWindowTemplate","listTemplate","unit","data","loaded","compile","dynamic_locator","clusters","limit","radii","categories","mapStateToProps","Locator","dispatch","props","nextProps","propTypes","bool","isRequired","string","oneOfType","number","func","fetchInfoWindow","fetchList","path","infoWindowTemplatePath","listTemplatePath","SearchBar","obj","vars","keys","forEach","value","undefined","replace","handleSubmit","bind","event","preventDefault","getElementsByName","newurl","objToUrl","history","pushState","Number","object","array","RadiusDropDown","values","indexOf","length","defaultValue","mappedRadii","Component","CategoryDropDown","ID","Name","filter","cat","toString","mappedCategories","MapContainer","handleMarkerClick","handleMarkerClose","template","markers","htmlToReactParser","i","Lat","Lng","position","lat","lng","defaultAnimation","infoContent","height","getMarkers","defaultProps","Map","marker","onMarkerClick","onMarkerClose","List","handleLocationClick","renderRow","resizeAll","cache","defaultHeight","fixedWidth","mostRecentWidth","lastDistance","resizeAllFlag","prevProps","clearAll","list","recomputeRowHeights","index","clear","scrollToCurrentIndex","Distance","findIndex","l","scrollToRow","style","parent","width","setTimeout","rowHeight","Location","distance","toFixed","daddr","Address","Address2","City","State","PostalCode","cleanAddress","onClick","getDistance","DirectionsLink","getDaddr","Unit","id","className","shape","Title","Website","Phone","Email","Loading"],"mappings":"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","file":"client/dist/js/main.js","sourcesContent":["/* global window */\nimport axios from 'axios';\n\nimport ActionType from 'actions/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function fetchLocations(params) {\n  const loc = window.location;\n  return {\n    type: ActionType.FETCH_LOCATIONS,\n    payload: axios.get(\n      `${loc.protocol}//${loc.host}${loc.pathname}/json`,\n      {\n        // same as \"params: params\"\n        params,\n      },\n    ),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/locationActions.js","import ActionType from 'actions/ActionTypes';\n\nexport function openMarker(target) {\n  return {\n    type: ActionType.MARKER_CLICK,\n    payload: {\n      key: target,\n    },\n  };\n}\n\nexport function highlightLocation(target) {\n  return {\n    type: ActionType.MARKER_CLICK,\n    payload: target,\n  };\n}\n\nexport function closeMarker(target) {\n  return {\n    type: ActionType.MARKER_CLOSE,\n    payload: target,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/mapActions.js","/* global window, document */\nimport React from 'react';\nimport ReactDom from 'react-dom';\n\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport { Provider } from 'react-redux';\n\nimport thunk from 'redux-thunk';\nimport promise from 'redux-promise-middleware';\n\nimport reducers from 'reducers';\nimport Locator from 'components/Locator';\n\n// only the first container is used, can change to querySelectorAll() for multiple instances\nconst container = document.querySelector('.locator');\n\n/**\n * Writes deeply nested function transformations without the rightward drift of the code.\n * [redux compose]{@link http://redux.js.org/docs/api/compose.html}\n * @returns {Function}\n */\nfunction composedMiddleware() {\n  return compose(\n    applyMiddleware(promise({\n      // new suffixes\n      promiseTypeSuffixes: ['LOADING', 'SUCCESS', 'ERROR'],\n    }), thunk),\n    // eslint-disable-next-line no-underscore-dangle\n    (typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined') ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f,\n  );\n}\n\n// creates the redux store with reducers and middleware\nconst store = createStore(reducers, composedMiddleware());\n\n// defers rendering until after content is loaded (only needed for settings)\ndocument.addEventListener('DOMContentLoaded', () => {\n  // renders the locator\n  ReactDom.render(\n    <Provider store={store}>\n      <Locator />\n    </Provider>\n    , container);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/boot/index.jsx","/**\n * List of action types.\n * Could just be strings, but I feel better when referencing a constant that doesn't change without erroring.\n */\nconst ActionTypes = {\n  // location fetching\n  FETCH_LOCATIONS: 'FETCH_LOCATIONS',\n\n  // settings fetching\n  FETCH_INFO_WINDOW: 'FETCH_INFO_WINDOW',\n  FETCH_LIST: 'FETCH_LIST',\n\n  // Search action\n  SEARCH: 'SEARCH',\n\n  // Marker actions\n  MARKER_CLICK: 'MARKER_CLICK',\n  MARKER_CLOSE: 'MARKER_CLOSE',\n};\n\n// uses the base FETCH_LOCATIONS to construct resulting actions (can't do this in the actual const)\nActionTypes.FETCH_LOCATIONS_LOADING = `${ActionTypes.FETCH_LOCATIONS}_LOADING`;\nActionTypes.FETCH_LOCATIONS_SUCCESS = `${ActionTypes.FETCH_LOCATIONS}_SUCCESS`;\nActionTypes.FETCH_LOCATIONS_ERROR = `${ActionTypes.FETCH_LOCATIONS}_ERROR`;\n\n// uses the base FETCH_INFO_WINDOW to construct resulting actions (can't do this in the actual const)\nActionTypes.FETCH_INFO_WINDOW_LOADING = `${ActionTypes.FETCH_INFO_WINDOW}_LOADING`;\nActionTypes.FETCH_INFO_WINDOW_SUCCESS = `${ActionTypes.FETCH_INFO_WINDOW}_SUCCESS`;\nActionTypes.FETCH_INFO_WINDOW_ERROR = `${ActionTypes.FETCH_INFO_WINDOW}_ERROR`;\n\n// uses the base FETCH_LIST to construct resulting actions (can't do this in the actual const)\nActionTypes.FETCH_LIST_LOADING = `${ActionTypes.FETCH_LIST}_LOADING`;\nActionTypes.FETCH_LIST_SUCCESS = `${ActionTypes.FETCH_LIST}_SUCCESS`;\nActionTypes.FETCH_LIST_ERROR = `${ActionTypes.FETCH_LIST}_ERROR`;\n\nexport default ActionTypes;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/ActionTypes.js","import {\n  combineReducers,\n} from 'redux';\n\nimport search from 'reducers/searchReducer';\nimport map from 'reducers/mapReducer';\nimport settings from 'reducers/settingsReducer';\nimport locations from 'reducers/locationReducer';\n\n/**\n * Combines the reducers.\n *\n * uses shorthand to set key/values\n * \"search\" is short for \"search: search\"\n *\n * @type {Reducer<any>}\n */\nconst reducers = combineReducers({\n  search,\n  map,\n  settings,\n  locations,\n});\n\nexport default reducers;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/index.js","/* global window */\nimport ActionType from 'actions/ActionTypes';\nimport url from 'url';\n\nconst defaultState = Object.assign({\n  address: '',\n  radius: -1,\n  category: '',\n}, url.parse(window.location.href, true).query);\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.SEARCH:\n      return {\n        ...state,\n        address: action.payload.address,\n        radius: action.payload.radius,\n        category: action.payload.category,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/searchReducer.js","import ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  current: -1,\n  showCurrent: false,\n  isLoading: true,\n};\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.MARKER_CLICK:\n      return {\n        ...state,\n        current: action.payload.key,\n        showCurrent: true,\n      };\n\n    case ActionType.MARKER_CLOSE:\n      return {\n        ...state,\n        showCurrent: false,\n      };\n\n    case ActionType.SEARCH:\n      return {\n        ...state,\n        current: -1,\n        showCurrent: false,\n      };\n\n    case ActionType.FETCH_LOCATIONS_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n      };\n\n    case ActionType.FETCH_LOCATIONS_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/mapReducer.js","/* global dynamic_locator */\nimport handlebars from 'handlebars';\nimport ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  loadedSettings: false,\n  loadedWindowTemplate: false,\n  loadedListTemplate: false,\n\n  infoWindowTemplate: null,\n  listTemplate: null,\n\n  unit: 'm',\n};\n\n/**\n * The reducer for creating a part in the store for things like radius and categories\n */\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.FETCH_INFO_WINDOW_SUCCESS: {\n      const { data } = action.payload;\n\n      let loaded = state.loadedSettings;\n      if (state.loadedListTemplate === true) {\n        loaded = true;\n      }\n\n      return {\n        ...state,\n        loadedSettings: loaded,\n        loadedWindowTemplate: true,\n        infoWindowTemplate: handlebars.compile(data),\n\n        unit: dynamic_locator.unit,\n        clusters: dynamic_locator.clusters,\n        limit: dynamic_locator.limit,\n        radii: dynamic_locator.radii,\n        categories: dynamic_locator.categories,\n      };\n    }\n\n    case ActionType.FETCH_LIST_SUCCESS: {\n      const { data } = action.payload;\n\n      let loaded = state.loadedSettings;\n      if (state.loadedWindowTemplate === true) {\n        loaded = true;\n      }\n\n      return {\n        ...state,\n        loadedSettings: loaded,\n        loadedListTemplate: true,\n        listTemplate: handlebars.compile(data),\n\n        unit: dynamic_locator.unit,\n        clusters: dynamic_locator.clusters,\n        limit: dynamic_locator.limit,\n        radii: dynamic_locator.radii,\n        categories: dynamic_locator.categories,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/settingsReducer.js","import ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  locations: [],\n};\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.FETCH_LOCATIONS_SUCCESS:\n      return {\n        ...state,\n        locations: action.payload.data.locations,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/locationReducer.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { fetchLocations } from 'actions/locationActions';\nimport { fetchInfoWindow, fetchList } from 'actions/settingsActions';\n\nimport Search from 'components/search/SearchBar';\nimport MapContainer from 'components/map/MapContainer';\nimport List from 'components/list/List';\nimport Loading from 'components/Loading';\n\n/**\n * The main locator component.\n */\nexport class Locator extends Component {\n  /**\n   * Called before the component mounts\n   */\n  componentWillMount() {\n    const { dispatch } = this.props;\n    dispatch(fetchInfoWindow());\n    dispatch(fetchList());\n  }\n\n  /**\n   * Should this component update\n   * @param nextProps\n   * @return {boolean}\n   */\n  shouldComponentUpdate(nextProps) {\n    const { loadedSettings } = this.props;\n    return (loadedSettings !== nextProps.loadedSettings);\n  }\n\n  /**\n   * Called before the component updates\n   * @param nextProps\n   */\n  componentWillUpdate(nextProps) {\n    const { dispatch, unit, address, radius, category } = nextProps;\n    dispatch(fetchLocations({\n      unit,\n      address,\n      radius,\n      category,\n    }));\n  }\n\n  /**\n   * Renders the component\n   * @returns {XML}\n   */\n  render() {\n    const { loadedSettings } = this.props;\n    if (loadedSettings === false) {\n      return null;\n    }\n    return (\n      <div>\n        <Search />\n        <div className=\"map-area\">\n          <MapContainer />\n          <List />\n          <Loading />\n        </div>\n      </div>\n    );\n  }\n}\n\n/**\n * The prop types of the Locator component\n * @type {{data}}\n */\nLocator.propTypes = {\n  loadedSettings: PropTypes.bool.isRequired,\n  unit: PropTypes.string.isRequired,\n  address: PropTypes.string.isRequired,\n  radius: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  category: PropTypes.string.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\n/**\n * Takes variables/functions from the state and assigns them to variables/functions in the components props.\n *\n * @param state\n * @returns {{loadedSettings}}\n */\nexport function mapStateToProps(state) {\n  return {\n    loadedSettings: state.settings.loadedSettings,\n\n    unit: state.settings.unit,\n    address: state.search.address,\n    radius: state.search.radius,\n    category: state.search.category,\n  };\n}\n\n/**\n * The default export of the file.\n *\n * The component is connected to the redux state\n *\n * Whenever the state is changed the props change.\n */\nexport default connect(mapStateToProps)(Locator);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/Locator.jsx","/* global window, dynamic_locator */\nimport axios from 'axios';\n\nimport ActionType from 'actions/ActionTypes';\n\nexport function fetchInfoWindow() {\n  const loc = window.location;\n  const path = dynamic_locator.infoWindowTemplatePath;\n\n  return {\n    type: ActionType.FETCH_INFO_WINDOW,\n    payload: axios.get(`${loc.protocol}//${loc.host}${path}`),\n  };\n}\n\nexport function fetchList() {\n  const loc = window.location;\n  const path = dynamic_locator.listTemplatePath;\n\n  return {\n    type: ActionType.FETCH_LIST,\n    payload: axios.get(`${loc.protocol}//${loc.host}${path}`),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/settingsActions.js","/* global window, document */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { fetchLocations } from 'actions/locationActions';\nimport RadiusDropDown from 'components/search/RadiusDropDown';\nimport CategoryDropDown from 'components/search/CategoryDropDown';\n\nexport class SearchBar extends Component {\n  /**\n   * Turns a javascript object into url params.\n   * Skips keys without values\n   *\n   * @param obj\n   * @return {string}\n   */\n  static objToUrl(obj) {\n    let vars = '';\n\n    Object.keys(obj).forEach((key) => {\n      const value = obj[key];\n\n      // don't add it if its blank\n      if (value !== undefined && value !== null && value !== '') {\n        vars += `${key}=${value}&`;\n      }\n    });\n\n    // replaces trailing spaces and '&' symbols then replaces spaces with +\n    return vars.replace(/([&\\s]+$)/g, '').replace(/(\\s)/g, '+');\n  }\n\n  /**\n   * Used to create the SearchBar.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n\n  /**\n   * 'Submits' form. Really just fires state change and changes the url.\n   */\n  handleSubmit(event) {\n    // stops the submit from reloading\n    event.preventDefault();\n\n    const address = document.getElementsByName('address')[0].value;\n\n    let radius = '';\n    if (document.getElementsByName('radius')[0] !== undefined) {\n      radius = document.getElementsByName('radius')[0].value;\n    }\n\n    let category = '';\n    if (document.getElementsByName('category')[0] !== undefined) {\n      category = document.getElementsByName('category')[0].value;\n    }\n\n    const params = {\n      address,\n      radius,\n      category,\n    };\n\n    // selects dispatch and unit from this.props.\n    // const dispatch = this.props.dispatch; const unit = this.props.unit;\n    const { dispatch, unit } = this.props;\n    dispatch(\n      fetchLocations({\n        ...params,\n        unit,\n      }),\n    );\n\n    // changes the url for the window and adds it to the browser history(no redirect)\n    const loc = window.location;\n    const newurl = `${loc.protocol}//${loc.host}${loc.pathname}?${SearchBar.objToUrl(params)}`;\n    window.history.pushState({\n      path: newurl,\n    }, '', newurl);\n  }\n\n  /**\n   * Renders the component.\n   * @returns {XML}\n   */\n  render() {\n    const { address, category, radii, categories, unit } = this.props;\n    let { radius } = this.props;\n    if (typeof radius === 'string') {\n      radius = Number(radius);\n    }\n    return (\n      <form onSubmit={this.handleSubmit} className=\"locator-search\">\n        {/* not a fieldset because no flexbox */}\n        <div className=\"fieldset\">\n          <div className=\"address-input form-group\">\n            <label htmlFor=\"address\" className=\"sr-only\">Address or zip code</label>\n            <input\n              type=\"text\"\n              name=\"address\"\n              className=\"form-control\"\n              placeholder=\"address or zip code\"\n              defaultValue={address}\n            />\n          </div>\n          <RadiusDropDown radii={radii} radius={radius} unit={unit} />\n          <CategoryDropDown categories={categories} category={category} />\n        </div>\n\n        <div className=\"fieldset actions\">\n          <div className=\"form-group\">\n            <input\n              type=\"submit\"\n              value=\"Search\"\n              className=\"btn\"\n            />\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  address: PropTypes.string.isRequired,\n  radius: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  category: PropTypes.string.isRequired,\n\n  // eslint-disable-next-line react/forbid-prop-types\n  radii: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  categories: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n  unit: PropTypes.string.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\n/**\n * Takes variables/functions from the state and assigns them to variables/functions in the components props.\n *\n * @param state\n * @returns {{address, radius}}\n */\nexport function mapStateToProps(state) {\n  return {\n    // the defaults - for when it gets loaded from the url\n    address: state.search.address,\n    radius: state.search.radius,\n    category: state.search.category,\n\n    // the options\n    radii: state.settings.radii,\n    categories: state.settings.categories,\n\n    // other\n    unit: state.settings.unit,\n  };\n}\n\nexport default connect(mapStateToProps)(SearchBar);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/SearchBar.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass RadiusDropDown extends React.Component {\n  /**\n   * Maps the radii into options for the drop down.\n   * @returns {Array}\n   */\n  mappedRadii() {\n    const { radii, unit } = this.props;\n\n    return Object.keys(radii).map(key => (\n      <option\n        value={radii[key]}\n        key={key}\n      >\n        {radii[key]} {unit}\n      </option>\n    ));\n  }\n\n  /**\n   * Gets the default value for the dropdown\n   * @return {*}\n   */\n  defaultValue() {\n    const { radius, radii } = this.props;\n\n    // if the radius exists in the dropdown\n    const values = Object.keys(radii).map(\n      key => radii[key],\n    );\n    if (values.indexOf(radius) > -1) {\n      return radius;\n    }\n    return '';\n  }\n\n  /**\n   * Outputs the radius drop down.\n   * @returns {*}\n   */\n  render() {\n    const { radii } = this.props;\n    if (radii !== undefined && Object.keys(radii).length !== 0) {\n      return (\n        <div className=\"radius-dropdown form-group\">\n          <label htmlFor=\"radius\" className=\"sr-only\">Radius</label>\n          <select\n            name=\"radius\"\n            className=\"form-control\"\n            defaultValue={this.defaultValue()}\n          >\n            <option value=\"\">radius</option>\n            {this.mappedRadii()}\n          </select>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nRadiusDropDown.propTypes = {\n  radius: PropTypes.number.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  radii: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n  unit: PropTypes.string.isRequired,\n};\n\nexport default RadiusDropDown;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/RadiusDropDown.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass CategoryDropDown extends Component {\n  /**\n   * Maps the radii into options for the drop down.\n   * @returns {Array}\n   */\n  mappedCategories() {\n    const { categories } = this.props;\n\n    return categories.map(category => (\n      <option\n        value={category.ID}\n        key={category.ID}\n      >\n        {category.Name}\n      </option>\n    ));\n  }\n\n  /**\n   * Gets the default value for the dropdown\n   * @return {*}\n   */\n  defaultValue() {\n    const { category, categories } = this.props;\n    // if the category exists in the dropdown\n    if (categories.filter(\n        cat => cat.ID === Number(category),\n      ).length) {\n      return category.toString();\n    }\n    return '';\n  }\n\n  /**\n   * Outputs the radius drop down.\n   * @returns {*}\n   */\n  render() {\n    const { categories } = this.props;\n    if (categories !== undefined && Object.keys(categories).length !== 0) {\n      return (\n        <div className=\"category-dropdown form-group\">\n          <label htmlFor=\"category\" className=\"sr-only\">Category</label>\n          <select\n            name=\"category\"\n            className=\"form-control\"\n            defaultValue={this.defaultValue()}\n          >\n            <option value=\"\">category</option>\n            {this.mappedCategories()}\n          </select>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nCategoryDropDown.propTypes = {\n  category: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  categories: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n};\n\nexport default CategoryDropDown;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/CategoryDropDown.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Parser as HtmlToReactParser } from 'html-to-react';\n\nimport { highlightLocation, closeMarker } from 'actions/mapActions';\nimport Map from 'components/map/Map';\n\n/**\n * The MapArea component.\n * Renders the map.\n */\nexport class MapContainer extends Component {\n  /**\n   * Used to create the Map.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n    this.handleMarkerClick = this.handleMarkerClick.bind(this);\n    this.handleMarkerClose = this.handleMarkerClose.bind(this);\n  }\n\n  /**\n   * Generates an array of marker objects to use on the map\n   */\n  getMarkers() {\n    const { locations, template } = this.props;\n    const markers = [];\n\n    const htmlToReactParser = new HtmlToReactParser();\n\n    let i;\n    // eslint-disable-next-line no-plusplus\n    for (i = 0; i < locations.length; i++) {\n      const loc = locations[i];\n      const { Lat, Lng } = loc;\n      markers[markers.length] = {\n        position: {\n          lat: Number(Lat),\n          lng: Number(Lng),\n        },\n        key: loc.ID,\n        defaultAnimation: 2,\n        infoContent: (\n          <div>\n            {htmlToReactParser.parse(template(loc))}\n          </div>\n        ),\n      };\n    }\n    return markers;\n  }\n\n  /**\n   * Fires and event for clicking a marker\n   * @param target The marker that was clicked\n   */\n  handleMarkerClick(target) {\n    const { dispatch } = this.props;\n    dispatch(highlightLocation(target));\n  }\n\n  /**\n   * Fires event for closing a marker info box\n   * @param target The marker that had its info box closed\n   */\n  handleMarkerClose(target) {\n    const { dispatch } = this.props;\n    dispatch(closeMarker(target));\n  }\n\n  render() {\n    const { current, showCurrent, clusters } = this.props;\n    return (\n      <div className=\"map-container\">\n        <Map\n          containerElement={\n            <div className=\"map\" />\n          }\n          mapElement={\n            <div style={{ height: '100%' }} />\n          }\n          markers={this.getMarkers()}\n          onMarkerClick={this.handleMarkerClick}\n          onMarkerClose={this.handleMarkerClose}\n          current={current}\n          showCurrent={showCurrent}\n          clusters={clusters}\n        />\n      </div>\n    );\n  }\n}\n\n/**\n * Defines the prop types\n * @type {{locations: *}}\n */\nMapContainer.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  locations: PropTypes.array,\n  dispatch: PropTypes.func.isRequired,\n  current: PropTypes.number.isRequired,\n  showCurrent: PropTypes.bool.isRequired,\n  clusters: PropTypes.bool.isRequired,\n  template: PropTypes.func.isRequired,\n};\n\n/**\n * Defines the default values of the props\n * @type {{locations: {edges: Array}}}\n */\nMapContainer.defaultProps = {\n  locations: [],\n};\n\n/**\n * Maps that state to props\n * @param state\n * @returns {{current}}\n */\nexport function mapStateToProps(state) {\n  return {\n    current: state.map.current,\n    showCurrent: state.map.showCurrent,\n    clusters: state.settings.clusters,\n    template: state.settings.infoWindowTemplate,\n    locations: state.locations.locations,\n  };\n}\n\nexport default connect(mapStateToProps)(MapContainer);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/map/MapContainer.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withGoogleMap, GoogleMap, Marker, InfoWindow } from 'react-google-maps';\nimport MarkerClusterer from 'react-google-maps/lib/components/addons/MarkerClusterer';\n\n/**\n * Renders every marker\n *\n * @param props\n * @return {Array}\n */\nexport function markers(props) {\n  return props.markers.map(marker => (\n    <Marker\n      key={marker.key}\n      position={marker.position}\n      defaultAnimation={marker.defaultAnimation}\n      onClick={() => props.onMarkerClick(marker)}\n    >\n      {props.current === marker.key && props.showCurrent && (\n        <InfoWindow onCloseClick={() => props.onMarkerClose(marker)}>\n          <div className=\"marker-content\">{marker.infoContent}</div>\n        </InfoWindow>\n      )}\n    </Marker>\n  ));\n}\n\n/**\n * Renders the map, with all the markers\n *\n * @param props\n * @return {XML}\n * @constructor\n */\nexport function Map(props) {\n  return (\n    <GoogleMap\n      defaultZoom={9}\n      defaultCenter={{ lat: 43.8483258, lng: -87.7709294 }}\n\n    >\n      {props.clusters === true ? <MarkerClusterer\n        averageCenter\n        enableRetinaIcons\n        gridSize={60}\n      >\n        {markers(props)}\n      </MarkerClusterer> :\n        markers(props)}\n    </GoogleMap>\n  );\n}\n\nMap.propTypes = {\n  clusters: PropTypes.bool.isRequired,\n};\n\nexport default withGoogleMap(Map);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/map/Map.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport {\n  CellMeasurer,\n  CellMeasurerCache,\n  AutoSizer,\n  List as VirtualList,\n} from 'react-virtualized';\n\nimport { openMarker } from 'actions/mapActions';\nimport Location from 'components/list/Location';\n\n/**\n * The List component.\n * Renders the location list.\n *\n * some of the code related to virtualization came from:\n * https://github.com/bvaughn/tweets/blob/37d0139736346db16b9681d5b859a4e127964518/src/components/TweetList.js\n */\nexport class List extends Component {\n  /**\n   * Used to create the Map.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n    // bind actions/handlers\n    this.handleLocationClick = this.handleLocationClick.bind(this);\n    this.renderRow = this.renderRow.bind(this);\n    this.resizeAll = this.resizeAll.bind(this);\n\n    // create variables\n    this.cache = new CellMeasurerCache({ defaultHeight: 85, fixedWidth: true });\n    this.mostRecentWidth = 0;\n    this.lastDistance = -1;\n    this.resizeAllFlag = false;\n  }\n\n  /**\n   * Called after the component updates\n   * @param prevProps\n   */\n  componentDidUpdate(prevProps) {\n    const { locations } = this.props;\n    if (this.resizeAllFlag) {\n      this.resizeAllFlag = false;\n      this.cache.clearAll();\n      if (this.list) {\n        this.list.recomputeRowHeights();\n      }\n    } else if (locations !== prevProps.locations) {\n      const index = prevProps.locations.length;\n      this.cache.clear(index, 0);\n      if (this.list) {\n        this.list.recomputeRowHeights(index);\n      }\n    }\n    this.scrollToCurrentIndex();\n  }\n\n  /**\n   * Re-calculates heights for rows\n   */\n  resizeAll() {\n    this.resizeAllFlag = false;\n    this.cache.clearAll();\n    if (this.list) {\n      this.list.recomputeRowHeights();\n    }\n\n    const { locations } = this.props;\n    if (locations.length > 0) {\n      this.lastDistance = locations[0].Distance;\n    }\n  }\n\n  scrollToCurrentIndex() {\n    const { locations, current } = this.props;\n    let index = locations.findIndex(l => l.ID === current);\n    if (index === -1) {\n      index = 0;\n    }\n    this.list.scrollToRow(index);\n  }\n\n  /**\n   * Handles a list item click\n   * @param target\n   */\n  handleLocationClick(target) {\n    const { dispatch } = this.props;\n    dispatch(openMarker(target));\n  }\n\n  /**\n   * Renders the row\n   *\n   * @param index\n   * @param key\n   * @param style\n   * @param parent\n   * @return {XML}\n   */\n  renderRow({ index, key, style, parent }) {\n    const { current, search, unit, template, locations } = this.props;\n    const location = locations[index];\n    return (\n      <CellMeasurer\n        cache={this.cache}\n        columnIndex={0}\n        key={key}\n        parent={parent}\n        rowIndex={index}\n      >\n        <Location\n          key={key}\n          style={style}\n          location={location}\n          index={index}\n          current={current === location.ID}\n          search={search.length > 0}\n          unit={unit}\n          onClick={this.handleLocationClick}\n          template={template}\n        />\n      </CellMeasurer>\n    );\n  }\n\n  /**\n   * Renders the component\n   * @returns {XML}\n   */\n  render() {\n    const { locations, current } = this.props;\n    return (\n      <div className=\"loc-list\" role=\"list\">\n        <AutoSizer>\n          {({ width, height }) => {\n            if ((this.mostRecentWidth && this.mostRecentWidth !== width) ||\n              (locations.length > 0 && this.lastDistance !== locations[0].Distance)) {\n              this.resizeAllFlag = true;\n              setTimeout(this.resizeAll, 0);\n            }\n\n            this.mostRecentWidth = width;\n\n            return (\n              <VirtualList\n                ref={(list) => {\n                  this.list = list;\n                }}\n                current={current}\n                deferredMeasurementCache={this.cache}\n                width={width}\n                height={height}\n                rowCount={locations.length}\n                rowHeight={this.cache.rowHeight}\n                rowRenderer={this.renderRow}\n                scrollToAlignment=\"start\"\n              />\n            );\n          }}\n        </AutoSizer>\n      </div>\n    );\n  }\n}\n\n/**\n * Defines the prop types\n * @type {{locations: *}}\n */\nList.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  locations: PropTypes.array,\n  current: PropTypes.number,\n  search: PropTypes.string,\n  unit: PropTypes.string.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  template: PropTypes.func.isRequired,\n};\n\n/**\n * Defines the default values of the props\n * @type {{locations: {edges: Array}}}\n */\nList.defaultProps = {\n  locations: [],\n  current: -1,\n  search: '',\n};\n\n/**\n * Maps that state to props\n * @param state\n * @returns {{current}}\n */\nexport function mapStateToProps(state) {\n  return {\n    current: state.map.current,\n    search: state.search.address,\n    unit: state.settings.unit,\n    template: state.settings.listTemplate,\n    locations: state.locations.locations,\n  };\n}\n\n\n/**\n * export the Map Component\n */\nexport default connect(mapStateToProps)(List);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/list/List.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Parser as HtmlToReactParser } from 'html-to-react';\n\n/**\n * The Location component.\n * Used in the location list.\n */\nclass Location extends Component {\n  /**\n   * Replaces any trailing '+' and whitespace and any spaces left with '+'\n   *\n   * @param address\n   * @returns String\n   */\n  static cleanAddress(address) {\n    if (address) {\n      if (typeof address === 'string') {\n        return address.replace(/([+\\s]+$)/g, '').replace(/(\\s)/g, '+');\n      }\n    }\n    return '';\n  }\n\n  /**\n   * Rounds the distance\n   *\n   * @return Boolean | String\n   */\n  getDistance() {\n    const { location } = this.props;\n    const distance = location.Distance;\n\n    if (distance === -1) {\n      return false;\n    }\n\n    return distance.toFixed(2);\n  }\n\n  /**\n   * Gets the daddr string for google maps directions\n   * @returns {string}\n   */\n  getDaddr() {\n    const { location } = this.props;\n    let daddr = '';\n\n    if (location.Address) {\n      daddr += `${location.Address}+`;\n    }\n\n    if (location.Address2) {\n      daddr += `${location.Address2}+`;\n    }\n\n    if (location.City) {\n      daddr += `${location.City}+`;\n    }\n\n    if (location.State) {\n      daddr += `${location.State}+`;\n    }\n\n    if (location.PostalCode) {\n      daddr += location.PostalCode;\n    }\n\n    return Location.cleanAddress(daddr);\n  }\n\n  /**\n   * renders the component\n   * @returns {XML}\n   */\n  render() {\n    const { location, index, current, search, template, unit, onClick, style } = this.props;\n    const htmlToReactParser = new HtmlToReactParser();\n\n    const loc = {\n      ...location,\n      Distance: this.getDistance(),\n      DirectionsLink: `http://maps.google.com/maps?saddr=${Location.cleanAddress(search)}&daddr=${this.getDaddr()}`,\n      Unit: unit,\n      Number: index + 1,\n    };\n\n    const id = `loc-${location.ID}`;\n\n    let className = 'list-location';\n    // if it should be focused\n    if (current) {\n      className += ' focus';\n    }\n    // if it is even (needed because the list acts odd with :nth-child)\n    if (index % 2 === 0) {\n      className += ' even';\n    }\n    // if it is first (needed because the list acts odd with :nth-child)\n    if (index === 0) {\n      className += ' first';\n    }\n    return (\n      // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions\n      <div\n        id={id}\n        data-markerid={index}\n        className={className}\n        onClick={() => onClick(location.ID)}\n        style={style}\n        role=\"listitem\"\n      >\n        {htmlToReactParser.parse(template(loc))}\n      </div>\n    );\n  }\n}\n\n/**\n * defines the prop types\n * @type {{location, index: *}}\n */\nLocation.propTypes = {\n  location: PropTypes.shape({\n    Title: PropTypes.string,\n    Address: PropTypes.string,\n    Address2: PropTypes.string,\n    City: PropTypes.string,\n    State: PropTypes.string,\n    PostalCode: PropTypes.string,\n    Website: PropTypes.string,\n    Phone: PropTypes.string,\n    Email: PropTypes.string,\n    Distance: PropTypes.number,\n  }).isRequired,\n  index: PropTypes.number.isRequired,\n  current: PropTypes.bool.isRequired,\n  search: PropTypes.bool.isRequired,\n  unit: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  template: PropTypes.func.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  style: PropTypes.object.isRequired,\n};\n\n/**\n * Exports the Location components\n */\nexport default Location;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/list/Location.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\n// exported for tests\nexport class Loading extends Component {\n  render() {\n    const { isLoading } = this.props;\n    if (isLoading) {\n      return (\n        <div className=\"loading show\">\n          <div className=\"loading-content\">\n            <div className=\"spinner\" />\n            <span>Loading</span>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"loading\" />\n    );\n  }\n}\n\nLoading.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport function mapStateToProps(state) {\n  return {\n    isLoading: state.map.isLoading,\n  };\n}\n\nexport default connect(mapStateToProps)(Loading);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/Loading.jsx"],"sourceRoot":""}