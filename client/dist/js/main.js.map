{"version":3,"sources":["webpack:///./client/src/js/actions/listActions.js","webpack:///./client/src/js/actions/locationActions.js","webpack:///./client/src/js/actions/mapActions.js","webpack:///./client/src/js/actions/ActionTypes.js","webpack:///./client/src/js/boot/index.jsx","webpack:///./client/src/js/reducers/index.js","webpack:///./client/src/js/reducers/searchReducer.js","webpack:///./client/src/js/reducers/mapReducer.js","webpack:///./client/src/js/reducers/settingsReducer.js","webpack:///./client/src/js/reducers/locationReducer.js","webpack:///./client/src/js/reducers/listReducer.js","webpack:///./client/src/js/components/Locator.jsx","webpack:///./client/src/js/actions/settingsActions.js","webpack:///./client/src/js/components/search/SearchBar.jsx","webpack:///./client/src/js/actions/searchActions.js","webpack:///./client/src/js/components/search/RadiusDropDown.jsx","webpack:///./client/src/js/components/search/CategoryDropDown.jsx","webpack:///./client/src/js/components/map/MapContainer.jsx","webpack:///./client/src/js/components/map/Map.jsx","webpack:///./client/src/js/components/list/List.jsx","webpack:///./client/src/js/components/list/Location.jsx","webpack:///./client/src/js/components/list/Pagination.jsx","webpack:///./client/src/js/components/Loading.jsx"],"names":["changePage","page","type","PAGE_CHANGE","payload","fetchLocations","params","loc","window","location","address","radius","category","FETCH_LOCATIONS","get","protocol","host","pathname","openMarker","highlightLocation","closeMarker","target","MARKER_CLICK","key","MARKER_CLOSE","ActionTypes","FETCH_INFO_WINDOW","FETCH_LIST","SEARCH","FETCH_LOCATIONS_LOADING","FETCH_LOCATIONS_SUCCESS","FETCH_LOCATIONS_ERROR","FETCH_INFO_WINDOW_LOADING","FETCH_INFO_WINDOW_SUCCESS","FETCH_INFO_WINDOW_ERROR","FETCH_LIST_LOADING","FETCH_LIST_SUCCESS","FETCH_LIST_ERROR","container","document","querySelector","composedMiddleware","promiseTypeSuffixes","__REDUX_DEVTOOLS_EXTENSION__","f","store","addEventListener","render","reducers","search","map","settings","locations","list","reducer","defaultState","Object","assign","parse","href","query","state","action","current","showCurrent","isLoading","center","Lat","Lng","undefined","data","loadedSettings","loadedWindowTemplate","loadedListTemplate","infoWindowTemplate","listTemplate","unit","defaultCenter","lat","lng","autocomplete","defaultLimit","dynamic_locator","clusters","limit","radii","categories","loaded","compile","Number","isNaN","mapStateToProps","Locator","dispatch","props","nextProps","propTypes","bool","isRequired","string","oneOfType","number","func","fetchInfoWindow","fetchList","path","infoWindowTemplatePath","listTemplatePath","SearchBar","obj","vars","keys","forEach","value","replace","name","getElementsByName","showFilter","searchAddress","handleSubmit","bind","handleFilter","handleAddressChange","event","String","preventDefault","getDropdownValue","newurl","objToUrl","history","pushState","setState","inputProps","onChange","placeholder","cssClasses","root","input","options","google","maps","LatLng","Math","max","hasFilter","filterIndicatorClass","filterClasses","getAddressInput","object","array","shape","inputs","RadiusDropDown","values","indexOf","length","defaultValue","mappedRadii","Component","CategoryDropDown","ID","Name","filter","cat","toString","mappedCategories","MapContainer","handleMarkerClick","handleMarkerClose","template","markers","htmlToReactParser","i","position","defaultAnimation","infoContent","index","findIndex","l","ceil","topPos","getElementById","offsetTop","getElementsByClassName","scrollTop","height","getMarkers","defaultProps","Map","marker","onMarkerClick","onMarkerClose","opts","List","handleLocationClick","handlePaginateClick","scrollToRow","realPage","lim","slice","width","renderList","Location","distance","Distance","toFixed","daddr","Address","Address2","City","State","PostalCode","cleanAddress","className","onClick","getDistance","DirectionsLink","getDaddr","Unit","id","getClassName","Title","Website","Phone","Email","Pagination","count","lastPage","getLastPage","range","rangeStart","rangeEnd","min","Array","fill","_","goToPage","numbers","getPageNumbers","num","previousClasses","previousAction","nextClasses","nextAction","renderPageLinks","Loading"],"mappings":"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","file":"client/dist/js/main.js","sourcesContent":["import ActionType from 'actions/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function changePage(page) {\n  return {\n    type: ActionType.PAGE_CHANGE,\n    payload: page,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/listActions.js","/* global window */\n/* eslint no-param-reassign: [\"error\", { \"props\": false }] */\nimport axios from 'axios';\n\nimport ActionType from 'actions/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function fetchLocations(params) {\n  const loc = window.location;\n\n  // removed unused query variables\n  if (params.address === '') {\n    delete params.address;\n  }\n\n  if (params.radius === -1) {\n    delete params.radius;\n  }\n\n  if (params.category === '') {\n    delete params.category;\n  }\n\n  return {\n    type: ActionType.FETCH_LOCATIONS,\n    payload: axios.get(\n      `${loc.protocol}//${loc.host}${loc.pathname}/json`,\n      {\n        // same as \"params: params\"\n        params,\n      },\n    ),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/locationActions.js","import ActionType from 'actions/ActionTypes';\n\nexport function openMarker(target) {\n  return {\n    type: ActionType.MARKER_CLICK,\n    payload: {\n      key: target,\n    },\n  };\n}\n\nexport function highlightLocation(target) {\n  return {\n    type: ActionType.MARKER_CLICK,\n    payload: target,\n  };\n}\n\nexport function closeMarker(target) {\n  return {\n    type: ActionType.MARKER_CLOSE,\n    payload: target,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/mapActions.js","/**\n * List of action types.\n * Could just be strings, but I feel better when referencing a constant that doesn't change without erroring.\n */\nconst ActionTypes = {\n  // location fetching\n  FETCH_LOCATIONS: 'FETCH_LOCATIONS',\n\n  // settings fetching\n  FETCH_INFO_WINDOW: 'FETCH_INFO_WINDOW',\n  FETCH_LIST: 'FETCH_LIST',\n\n  // Search action\n  SEARCH: 'SEARCH',\n\n  // Marker actions\n  MARKER_CLICK: 'MARKER_CLICK',\n  MARKER_CLOSE: 'MARKER_CLOSE',\n\n  PAGE_CHANGE: 'PAGE_CHANGE',\n};\n\n// uses the base FETCH_LOCATIONS to construct resulting actions (can't do this in the actual const)\nActionTypes.FETCH_LOCATIONS_LOADING = `${ActionTypes.FETCH_LOCATIONS}_LOADING`;\nActionTypes.FETCH_LOCATIONS_SUCCESS = `${ActionTypes.FETCH_LOCATIONS}_SUCCESS`;\nActionTypes.FETCH_LOCATIONS_ERROR = `${ActionTypes.FETCH_LOCATIONS}_ERROR`;\n\n// uses the base FETCH_INFO_WINDOW to construct resulting actions (can't do this in the actual const)\nActionTypes.FETCH_INFO_WINDOW_LOADING = `${ActionTypes.FETCH_INFO_WINDOW}_LOADING`;\nActionTypes.FETCH_INFO_WINDOW_SUCCESS = `${ActionTypes.FETCH_INFO_WINDOW}_SUCCESS`;\nActionTypes.FETCH_INFO_WINDOW_ERROR = `${ActionTypes.FETCH_INFO_WINDOW}_ERROR`;\n\n// uses the base FETCH_LIST to construct resulting actions (can't do this in the actual const)\nActionTypes.FETCH_LIST_LOADING = `${ActionTypes.FETCH_LIST}_LOADING`;\nActionTypes.FETCH_LIST_SUCCESS = `${ActionTypes.FETCH_LIST}_SUCCESS`;\nActionTypes.FETCH_LIST_ERROR = `${ActionTypes.FETCH_LIST}_ERROR`;\n\nexport default ActionTypes;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/ActionTypes.js","/* global window, document */\nimport React from 'react';\nimport ReactDom from 'react-dom';\n\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport { Provider } from 'react-redux';\n\nimport thunk from 'redux-thunk';\nimport promise from 'redux-promise-middleware';\n\nimport reducers from 'reducers';\nimport Locator from 'components/Locator';\n\n// only the first container is used, can change to querySelectorAll() for multiple instances\nconst container = document.querySelector('.locator');\n\n/**\n * Writes deeply nested function transformations without the rightward drift of the code.\n * [redux compose]{@link http://redux.js.org/docs/api/compose.html}\n * @returns {Function}\n */\nfunction composedMiddleware() {\n  return compose(\n    applyMiddleware(promise({\n      // new suffixes\n      promiseTypeSuffixes: ['LOADING', 'SUCCESS', 'ERROR'],\n    }), thunk),\n    // eslint-disable-next-line no-underscore-dangle\n    (typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined') ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f,\n  );\n}\n\n// creates the redux store with reducers and middleware\nconst store = createStore(reducers, composedMiddleware());\n\n// defers rendering until after content is loaded (only needed for settings)\ndocument.addEventListener('DOMContentLoaded', () => {\n  // renders the locator\n  ReactDom.render(\n    <Provider store={store}>\n      <Locator />\n    </Provider>\n    , container);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/boot/index.jsx","import {\n  combineReducers,\n} from 'redux';\n\nimport search from 'reducers/searchReducer';\nimport map from 'reducers/mapReducer';\nimport settings from 'reducers/settingsReducer';\nimport locations from 'reducers/locationReducer';\nimport list from 'reducers/listReducer';\n\n/**\n * Combines the reducers.\n *\n * uses shorthand to set key/values\n * \"search\" is short for \"search: search\"\n *\n * @type {Reducer<any>}\n */\nconst reducers = combineReducers({\n  search,\n  map,\n  settings,\n  locations,\n  list,\n});\n\nexport default reducers;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/index.js","/* global window */\nimport ActionType from 'actions/ActionTypes';\nimport url from 'url';\n\nconst defaultState = Object.assign({\n  address: '',\n  radius: -1,\n  category: '',\n}, url.parse(window.location.href, true).query);\n\ndelete defaultState.page;\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.SEARCH:\n      return {\n        ...state,\n        address: action.payload.address,\n        radius: action.payload.radius,\n        category: action.payload.category,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/searchReducer.js","import ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  current: -1,\n  showCurrent: false,\n  isLoading: true,\n  // center is invalid, can't be shown on map\n  // see the Map component (Map.jsx)\n  center: {\n    Lat: 91.0,\n    Lng: 181.0,\n  },\n};\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.MARKER_CLICK:\n      return {\n        ...state,\n        current: action.payload.key,\n        showCurrent: true,\n      };\n\n    case ActionType.MARKER_CLOSE:\n      return {\n        ...state,\n        showCurrent: false,\n      };\n\n    case ActionType.SEARCH:\n      return {\n        ...state,\n        current: -1,\n        showCurrent: false,\n      };\n\n    case ActionType.FETCH_LOCATIONS_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n      };\n\n    case ActionType.FETCH_LOCATIONS_SUCCESS: {\n      const center = action.payload !== undefined && action.payload.data.center !== undefined ?\n        action.payload.data.center :\n        defaultState.center;\n      return {\n        ...state,\n        isLoading: false,\n        center,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/mapReducer.js","/* global dynamic_locator */\nimport handlebars from 'handlebars';\nimport ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  loadedSettings: false,\n  loadedWindowTemplate: false,\n  loadedListTemplate: false,\n\n  infoWindowTemplate: null,\n  listTemplate: null,\n\n  unit: 'm',\n\n  defaultCenter: {\n    lat: 0,\n    lng: 0,\n  },\n  autocomplete: false,\n  defaultLimit: 20,\n};\n\n/**\n * Sets up settings\n * @return {{unit, clusters, limit, radii, categories}}\n */\nfunction settings() {\n  return {\n    unit: dynamic_locator.unit,\n    clusters: dynamic_locator.clusters,\n    limit: dynamic_locator.limit,\n    radii: dynamic_locator.radii,\n    categories: dynamic_locator.categories,\n    defaultCenter: {\n      lat: dynamic_locator.defaultCenter.lat,\n      lng: dynamic_locator.defaultCenter.lng,\n    },\n    autocomplete: dynamic_locator.autocomplete,\n    // defaultLimit: dynamic_locator.defaultLimit,\n  };\n}\n\n/**\n * The reducer for creating a part in the store for things like radius and categories\n */\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.FETCH_INFO_WINDOW_SUCCESS: {\n      const { data } = action.payload;\n      let loaded = state.loadedSettings;\n      if (state.loadedListTemplate === true) {\n        loaded = true;\n      }\n\n      return {\n        ...state,\n        ...settings(),\n        loadedSettings: loaded,\n        loadedWindowTemplate: true,\n        infoWindowTemplate: handlebars.compile(data),\n      };\n    }\n\n    case ActionType.FETCH_LIST_SUCCESS: {\n      const { data } = action.payload;\n      let loaded = state.loadedSettings;\n      if (state.loadedWindowTemplate === true) {\n        loaded = true;\n      }\n\n      return {\n        ...state,\n        ...settings(),\n        loadedSettings: loaded,\n        loadedListTemplate: true,\n        listTemplate: handlebars.compile(data),\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/settingsReducer.js","import ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  locations: [],\n};\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.FETCH_LOCATIONS_SUCCESS:\n      return {\n        ...state,\n        locations: action.payload.data.locations,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/locationReducer.js","/* global window */\nimport ActionType from 'actions/ActionTypes';\nimport url from 'url';\n\nconst { page } = url.parse(window.location.href, true).query;\nconst defaultState = {\n  page: Number.isNaN(Number(page)) ? 1 : Number(page),\n};\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.PAGE_CHANGE:\n      return {\n        ...state,\n        page: action.payload,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/listReducer.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { fetchLocations } from 'actions/locationActions';\nimport { fetchInfoWindow, fetchList } from 'actions/settingsActions';\n\nimport Search from 'components/search/SearchBar';\nimport MapContainer from 'components/map/MapContainer';\nimport List from 'components/list/List';\nimport Loading from 'components/Loading';\n\n/**\n * The main locator component.\n */\nexport class Locator extends Component {\n  /**\n   * Called before the component mounts\n   */\n  componentWillMount() {\n    const { dispatch } = this.props;\n    dispatch(fetchInfoWindow());\n    dispatch(fetchList());\n  }\n\n  /**\n   * Should this component update\n   * @param nextProps\n   * @return {boolean}\n   */\n  shouldComponentUpdate(nextProps) {\n    const { loadedSettings } = this.props;\n    return (loadedSettings !== nextProps.loadedSettings);\n  }\n\n  /**\n   * Called before the component updates\n   * @param nextProps\n   */\n  componentWillUpdate(nextProps) {\n    const { dispatch, unit, address, radius, category } = nextProps;\n    dispatch(fetchLocations({\n      unit,\n      address,\n      radius,\n      category,\n    }));\n  }\n\n  /**\n   * Renders the component\n   * @returns {XML}\n   */\n  render() {\n    const { loadedSettings } = this.props;\n    if (loadedSettings === false) {\n      return null;\n    }\n    return (\n      <div className=\"locator-area\">\n        <Search />\n        <List />\n        <MapContainer />\n        <Loading />\n      </div>\n    );\n  }\n}\n\n/**\n * The prop types of the Locator component\n * @type {{data}}\n */\nLocator.propTypes = {\n  loadedSettings: PropTypes.bool.isRequired,\n  unit: PropTypes.string.isRequired,\n  address: PropTypes.string.isRequired,\n  radius: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  category: PropTypes.string.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\n/**\n * Takes variables/functions from the state and assigns them to variables/functions in the components props.\n *\n * @param state\n * @returns {{loadedSettings}}\n */\nexport function mapStateToProps(state) {\n  return {\n    loadedSettings: state.settings.loadedSettings,\n\n    unit: state.settings.unit,\n    address: state.search.address,\n    radius: state.search.radius,\n    category: state.search.category,\n  };\n}\n\n/**\n * The default export of the file.\n *\n * The component is connected to the redux state\n *\n * Whenever the state is changed the props change.\n */\nexport default connect(mapStateToProps)(Locator);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/Locator.jsx","/* global window, dynamic_locator */\nimport axios from 'axios';\n\nimport ActionType from 'actions/ActionTypes';\n\nexport function fetchInfoWindow() {\n  const loc = window.location;\n  const path = dynamic_locator.infoWindowTemplatePath;\n\n  return {\n    type: ActionType.FETCH_INFO_WINDOW,\n    payload: axios.get(`${loc.protocol}//${loc.host}${path}`),\n  };\n}\n\nexport function fetchList() {\n  const loc = window.location;\n  const path = dynamic_locator.listTemplatePath;\n\n  return {\n    type: ActionType.FETCH_LIST,\n    payload: axios.get(`${loc.protocol}//${loc.host}${path}`),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/settingsActions.js","/* global window, document */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\nimport { faSearch, faCheckCircle } from '@fortawesome/fontawesome-free-solid';\nimport PlacesAutocomplete from 'react-places-autocomplete';\n\nimport { fetchLocations } from 'actions/locationActions';\nimport { search } from 'actions/searchActions';\nimport { changePage } from 'actions/listActions';\nimport RadiusDropDown from 'components/search/RadiusDropDown';\nimport CategoryDropDown from 'components/search/CategoryDropDown';\n\nexport class SearchBar extends Component {\n  /**\n   * Turns a javascript object into url params.\n   * Skips keys without values\n   *\n   * @param obj\n   * @return {string}\n   */\n  static objToUrl(obj) {\n    let vars = '';\n\n    Object.keys(obj).forEach((key) => {\n      const value = obj[key];\n\n      // don't add it if its blank\n      if (value !== undefined && value !== null && value !== '') {\n        vars += `${key}=${value}&`;\n      }\n    });\n\n    // replaces trailing spaces and '&' symbols then replaces spaces with +\n    return vars.replace(/([&\\s]+$)/g, '').replace(/(\\s)/g, '+');\n  }\n\n  static getDropdownValue(name) {\n    if (document.getElementsByName(name)[0] !== undefined) {\n      return document.getElementsByName(name)[0].value;\n    }\n    return '';\n  }\n\n  /**\n   * Used to create the SearchBar.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showFilter: false,\n    };\n    this.searchAddress = props.address;\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleFilter = this.handleFilter.bind(this);\n    this.handleAddressChange = this.handleAddressChange.bind(this);\n  }\n\n\n  /**\n   * 'Submits' form. Really just fires state change and changes the url.\n   */\n  handleSubmit(event) {\n    if (typeof event === 'string' || event instanceof String) {\n      this.searchAddress = event;\n      document.getElementsByName('address')[0].value = event;\n    } else {\n      // stops the submit from reloading\n      event.preventDefault();\n    }\n\n    const address = document.getElementsByName('address')[0].value;\n    const radius = SearchBar.getDropdownValue('radius');\n    const category = SearchBar.getDropdownValue('category');\n\n    const params = {\n      address,\n      radius,\n      category,\n    };\n\n    // selects dispatch and unit from this.props.\n    // const dispatch = this.props.dispatch; const unit = this.props.unit;\n    const { dispatch, unit } = this.props;\n\n    // dispatches search (updates search values)\n    dispatch(search({\n      address,\n      radius,\n      category,\n    }));\n\n    // dispatches fetch locations (gets the locations)\n    dispatch(fetchLocations({\n      ...params,\n      unit,\n    }));\n\n    dispatch(changePage(1));\n\n    // changes the url for the window and adds it to the browser history(no redirect)\n    const loc = window.location;\n    const newurl = `${loc.protocol}//${loc.host}${loc.pathname}?${SearchBar.objToUrl(params)}`;\n    window.history.pushState({\n      path: newurl,\n    }, '', newurl);\n  }\n\n  handleFilter(event) {\n    this.setState({\n      showFilter: !this.state.showFilter,\n    });\n  }\n\n  handleAddressChange(searchAddress) {\n    this.searchAddress = searchAddress;\n  }\n\n  /**\n   * Gets the address input.\n   * @return {*}\n   */\n  getAddressInput() {\n    const {address, radii, center, autocomplete} = this.props;\n    if (autocomplete === true) {\n      const inputProps = {\n        value: this.searchAddress,\n        onChange: this.handleAddressChange,\n        placeholder: 'address or zip code',\n        name: 'address',\n      };\n      const cssClasses = {\n        root: 'form-control autocomplete-root',\n        input: 'form-control',\n      };\n      const options = {\n        location: new google.maps.LatLng(center.lat, center.lng),\n        radius: Math.max(...radii),\n      };\n      return (<PlacesAutocomplete\n        inputProps={inputProps}\n        classNames={cssClasses}\n        onSelect={this.handleSubmit}\n        onEnterKeyDown={this.handleSubmit}\n        options={options}\n      />);\n    }\n    return (<input\n      type=\"text\"\n      name=\"address\"\n      className=\"form-control\"\n      placeholder=\"address or zip code\"\n      defaultValue={address}\n    />);\n  }\n\n  /**\n   * Renders the component.\n   * @returns {XML}\n   */\n  render() {\n    const {\n      address, category, radii, categories, unit, autocomplete\n    } = this.props;\n    let { radius } = this.props;\n    if (typeof radius === 'string') {\n      radius = Number(radius);\n    }\n\n    const hasFilter = category !== '' || !(radius === '' || radius < 1);\n\n    const filterIndicatorClass = hasFilter ? 'filter-icon' : 'filter-icon no-show';\n    const filterClasses = this.state.showFilter ? 'filter open' : 'filter closed';\n\n    return (\n      <form onSubmit={this.handleSubmit} className=\"locator-search\">\n        {/* not a fieldset because no flexbox */}\n        <div className=\"fieldset\">\n          <div className=\"always-shown\">\n            <div className=\"address-input input-group\">\n              <label htmlFor=\"address\" className=\"sr-only\">Address or zip code</label>\n              {this.getAddressInput()}\n              <span className=\"input-group-btn\">\n                <button\n                  className=\"btn btn-secondary\"\n                  type=\"button\"\n                  type=\"submit\"><FontAwesomeIcon icon={faSearch} /></button>\n              </span>\n            </div>\n            <div className=\"filter-button\">\n              <button type=\"button\" className=\"btn btn-link\" onClick={this.handleFilter}>Filter\n                <FontAwesomeIcon icon={faCheckCircle} className={filterIndicatorClass}/>\n              </button>\n            </div>\n          </div>\n          <div className={filterClasses}>\n            <CategoryDropDown categories={categories} category={category} />\n            <RadiusDropDown radii={radii} radius={radius} unit={unit} />\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  address: PropTypes.string.isRequired,\n  radius: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  category: PropTypes.string.isRequired,\n\n  // eslint-disable-next-line react/forbid-prop-types\n  radii: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  categories: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n  unit: PropTypes.string.isRequired,\n  autocomplete: PropTypes.bool.isRequired,\n  center: PropTypes.shape({\n    lat: PropTypes.number.isRequired,\n    lng: PropTypes.number.isRequired,\n  }).isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\n/**\n * Takes variables/functions from the state and assigns them to variables/functions in the components props.\n *\n * @param state\n * @returns {{address, radius}}\n */\nexport function mapStateToProps(state) {\n  return {\n    // the defaults - for when it gets loaded from the url\n    address: state.search.address,\n    radius: state.search.radius,\n    category: state.search.category,\n\n    // the options\n    radii: state.settings.radii,\n    categories: state.settings.categories,\n\n    // other\n    unit: state.settings.unit,\n    autocomplete: state.settings.autocomplete,\n    center: state.settings.defaultCenter,\n  };\n}\n\nexport default connect(mapStateToProps)(SearchBar);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/SearchBar.jsx","import ActionType from 'actions/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function search(inputs = {}) {\n  return {\n    type: ActionType.SEARCH,\n    payload: inputs,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/searchActions.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass RadiusDropDown extends React.Component {\n  /**\n   * Maps the radii into options for the drop down.\n   * @returns {Array}\n   */\n  mappedRadii() {\n    const { radii, unit } = this.props;\n\n    return Object.keys(radii).map(key => (\n      <option\n        value={radii[key]}\n        key={key}\n      >\n        {radii[key]} {unit}\n      </option>\n    ));\n  }\n\n  /**\n   * Gets the default value for the dropdown\n   * @return {*}\n   */\n  defaultValue() {\n    const { radius, radii } = this.props;\n\n    // if the radius exists in the dropdown\n    const values = Object.keys(radii).map(key => radii[key]);\n    if (values.indexOf(radius) > -1) {\n      return radius;\n    }\n    return '';\n  }\n\n  /**\n   * Outputs the radius drop down.\n   * @returns {*}\n   */\n  render() {\n    const { radii } = this.props;\n    if (radii !== undefined && Object.keys(radii).length !== 0) {\n      return (\n        <div className=\"radius-dropdown form-group\">\n          <label htmlFor=\"radius\" className=\"sr-only\">Radius</label>\n          <select\n            name=\"radius\"\n            className=\"form-control\"\n            defaultValue={this.defaultValue()}\n          >\n            <option value=\"\">radius</option>\n            {this.mappedRadii()}\n          </select>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nRadiusDropDown.propTypes = {\n  radius: PropTypes.number.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  radii: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n  unit: PropTypes.string.isRequired,\n};\n\nexport default RadiusDropDown;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/RadiusDropDown.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass CategoryDropDown extends Component {\n  /**\n   * Maps the radii into options for the drop down.\n   * @returns {Array}\n   */\n  mappedCategories() {\n    const { categories } = this.props;\n\n    return categories.map(category => (\n      <option\n        value={category.ID}\n        key={category.ID}\n      >\n        {category.Name}\n      </option>\n    ));\n  }\n\n  /**\n   * Gets the default value for the dropdown\n   * @return {*}\n   */\n  defaultValue() {\n    const { category, categories } = this.props;\n    // if the category exists in the dropdown\n    if (categories.filter(\n        cat => cat.ID === Number(category),\n      ).length) {\n      return category.toString();\n    }\n    return '';\n  }\n\n  /**\n   * Outputs the radius drop down.\n   * @returns {*}\n   */\n  render() {\n    const { categories } = this.props;\n    if (categories !== undefined && Object.keys(categories).length !== 0) {\n      return (\n        <div className=\"category-dropdown form-group\">\n          <label htmlFor=\"category\" className=\"sr-only\">Category</label>\n          <select\n            name=\"category\"\n            className=\"form-control\"\n            defaultValue={this.defaultValue()}\n          >\n            <option value=\"\">category</option>\n            {this.mappedCategories()}\n          </select>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nCategoryDropDown.propTypes = {\n  category: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  categories: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n};\n\nexport default CategoryDropDown;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/CategoryDropDown.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Parser as HtmlToReactParser } from 'html-to-react';\n\nimport { highlightLocation, closeMarker } from 'actions/mapActions';\nimport { changePage } from 'actions/listActions';\nimport Map from 'components/map/Map';\n\n/**\n * The MapArea component.\n * Renders the map.\n */\nexport class MapContainer extends Component {\n  /**\n   * Used to create the Map.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n    this.handleMarkerClick = this.handleMarkerClick.bind(this);\n    this.handleMarkerClose = this.handleMarkerClose.bind(this);\n  }\n\n  /**\n   * Generates an array of marker objects to use on the map\n   */\n  getMarkers() {\n    const { locations, template } = this.props;\n    const markers = [];\n\n    const htmlToReactParser = new HtmlToReactParser();\n\n    let i;\n    // eslint-disable-next-line no-plusplus\n    for (i = 0; i < locations.length; i++) {\n      const loc = locations[i];\n      const { Lat, Lng } = loc;\n      markers[markers.length] = {\n        position: {\n          lat: Number(Lat),\n          lng: Number(Lng),\n        },\n        key: loc.ID,\n        defaultAnimation: 2,\n        infoContent: (\n          <div>\n            {htmlToReactParser.parse(template(loc))}\n          </div>\n        ),\n      };\n    }\n    return markers;\n  }\n\n  /**\n   * Fires and event for clicking a marker\n   * @param target The marker that was clicked\n   */\n  handleMarkerClick(target) {\n    const { dispatch, locations, defaultLimit } = this.props;\n    dispatch(highlightLocation(target));\n\n    const index = locations.findIndex(l => l.ID === target.key) + 1;\n    const page = Math.ceil(index / defaultLimit);\n\n    dispatch(changePage(page));\n\n    const topPos = document.getElementById(`loc-${target.key}`).offsetTop;\n    document.getElementsByClassName('loc-list-inner')[0].scrollTop = topPos-10;\n  }\n\n  /**\n   * Fires event for closing a marker info box\n   * @param target The marker that had its info box closed\n   */\n  handleMarkerClose(target) {\n    const { dispatch } = this.props;\n    dispatch(closeMarker(target));\n  }\n\n  render() {\n    const { current, showCurrent, clusters, center, defaultCenter } = this.props;\n    return (\n      <div className=\"map-container\">\n        <Map\n          containerElement={\n            <div className=\"map\" />\n          }\n          mapElement={\n            <div style={{ height: '100%' }} />\n          }\n          markers={this.getMarkers()}\n          onMarkerClick={this.handleMarkerClick}\n          onMarkerClose={this.handleMarkerClose}\n          current={current}\n          showCurrent={showCurrent}\n          clusters={clusters}\n          center={center}\n          defaultCenter={defaultCenter}\n        />\n      </div>\n    );\n  }\n}\n\n/**\n * Defines the prop types\n * @type {{locations: *}}\n */\nMapContainer.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  locations: PropTypes.array,\n  dispatch: PropTypes.func.isRequired,\n  current: PropTypes.number.isRequired,\n  showCurrent: PropTypes.bool.isRequired,\n  clusters: PropTypes.bool.isRequired,\n  template: PropTypes.func.isRequired,\n  center: PropTypes.shape({\n    Lat: PropTypes.number.isRequired,\n    Lng: PropTypes.number.isRequired,\n  }).isRequired,\n  defaultCenter: PropTypes.shape({\n    lat: PropTypes.number.isRequired,\n    lng: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\n/**\n * Defines the default values of the props\n * @type {{locations: {edges: Array}}}\n */\nMapContainer.defaultProps = {\n  locations: [],\n};\n\n/**\n * Maps that state to props\n * @param state\n * @returns {{current}}\n */\nexport function mapStateToProps(state) {\n  return {\n    current: state.map.current,\n    showCurrent: state.map.showCurrent,\n    clusters: state.settings.clusters,\n    template: state.settings.infoWindowTemplate,\n    locations: state.locations.locations,\n    center: state.map.center,\n    defaultCenter: state.settings.defaultCenter,\n\n    defaultLimit: state.settings.defaultLimit,\n  };\n}\n\nexport default connect(mapStateToProps)(MapContainer);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/map/MapContainer.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withGoogleMap, GoogleMap, Marker, InfoWindow } from 'react-google-maps';\nimport MarkerClusterer from 'react-google-maps/lib/components/addons/MarkerClusterer';\n\n/**\n * Renders every marker\n *\n * @param props\n * @return {Array}\n */\nexport function markers(props) {\n  return props.markers.map(marker => (\n    <Marker\n      key={marker.key}\n      position={marker.position}\n      defaultAnimation={marker.defaultAnimation}\n      onClick={() => props.onMarkerClick(marker)}\n    >\n      {props.current === marker.key && props.showCurrent && (\n        <InfoWindow onCloseClick={() => props.onMarkerClose(marker)}>\n          <div className=\"marker-content\">{marker.infoContent}</div>\n        </InfoWindow>\n      )}\n    </Marker>\n  ));\n}\n\n/**\n * Renders the map, with all the markers\n *\n * @param props\n * @return {XML}\n * @constructor\n */\nexport function Map(props) {\n  // we don't want a center if it is invalid\n  const opts = {};\n  if (props.center.Lat !== 91 && props.center.Lng !== 181) {\n    opts.center = {\n      lat: props.center.Lat,\n      lng: props.center.Lng,\n    }\n  }\n  return (\n    <GoogleMap\n      defaultZoom={9}\n      defaultCenter={{ lat: props.defaultCenter.lat, lng: props.defaultCenter.lng }}\n      {...opts}\n    >\n      {props.clusters === true ? <MarkerClusterer\n        averageCenter\n        enableRetinaIcons\n        gridSize={60}\n      >\n        {markers(props)}\n      </MarkerClusterer> :\n        markers(props)}\n    </GoogleMap>\n  );\n}\n\nMap.propTypes = {\n  clusters: PropTypes.bool.isRequired,\n  center: PropTypes.shape({\n    Lat: PropTypes.number.isRequired,\n    Lng: PropTypes.number.isRequired,\n  }).isRequired,\n  defaultCenter: PropTypes.shape({\n    lat: PropTypes.number.isRequired,\n    lng: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default withGoogleMap(Map);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/map/Map.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { AutoSizer, } from 'react-virtualized';\n\nimport { openMarker } from 'actions/mapActions';\nimport { changePage } from 'actions/listActions';\nimport Location from 'components/list/Location';\nimport Pagination from 'components/list/Pagination';\n\n/**\n * The List component.\n * Renders the location list.\n */\nexport class List extends Component {\n  /**\n   * Used to create the Map.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n    // bind actions/handlers\n    this.handleLocationClick = this.handleLocationClick.bind(this);\n    this.handlePaginateClick = this.handlePaginateClick.bind(this);\n  }\n\n  scrollToCurrentIndex() {\n    const { locations, current } = this.props;\n    let index = locations.findIndex(l => l.ID === current);\n    if (index === -1) {\n      index = 0;\n    }\n    this.list.scrollToRow(index);\n  }\n\n  /**\n   * Handles a list item click\n   * @param target\n   */\n  handleLocationClick(target) {\n    const { dispatch } = this.props;\n    dispatch(openMarker(target));\n  }\n\n  handlePaginateClick(page) {\n    const { dispatch } = this.props;\n    dispatch(changePage(page));\n  }\n\n  renderList() {\n    const {\n      page,\n      defaultLimit,\n      locations,\n      current,\n      search,\n      unit,\n      template\n    } = this.props;\n    const realPage = page - 1 ? page - 1 : 0;\n    // in case we want to implement a flexible limit\n    const lim = defaultLimit;\n\n    return locations.slice(realPage * lim, page * lim).map((location, index) => {\n      return <Location\n        key={location.ID}\n        location={location}\n        index={(realPage * lim) + index}\n        current={current === location.ID}\n        search={search.length > 0}\n        unit={unit}\n        onClick={this.handleLocationClick}\n        template={template}\n      />\n    });\n  }\n\n  /**\n   * Renders the component\n   * @returns {XML}\n   */\n  render() {\n    const { locations, current, page, defaultLimit } = this.props;\n    return (\n      <div className=\"loc-list\" role=\"list\">\n        <div className=\"loc-list-container\">\n          <AutoSizer>\n            {({ width, height }) =>\n              <div className='loc-list-inner' style={{width, height}}>\n                {this.renderList()}\n              </div>\n            }\n          </AutoSizer>\n        </div>\n        <div className=\"list-pagination\">\n          <Pagination\n            page={page}\n            count={locations.length}\n            defaultLimit={defaultLimit}\n            goToPage={this.handlePaginateClick}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\n/**\n * Defines the prop types\n * @type {{locations: *}}\n */\nList.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  locations: PropTypes.array,\n  current: PropTypes.number,\n  search: PropTypes.string,\n  unit: PropTypes.string.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  template: PropTypes.func.isRequired,\n  defaultLimit: PropTypes.number.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\n/**\n * Defines the default values of the props\n * @type {{locations: {edges: Array}}}\n */\nList.defaultProps = {\n  locations: [],\n  current: -1,\n  search: '',\n};\n\n/**\n * Maps that state to props\n * @param state\n * @returns {{current}}\n */\nexport function mapStateToProps(state) {\n  return {\n    current: state.map.current,\n    search: state.search.address,\n    unit: state.settings.unit,\n    template: state.settings.listTemplate,\n    locations: state.locations.locations,\n    defaultLimit: state.settings.defaultLimit,\n    page: state.list.page,\n  };\n}\n\n\n/**\n * export the Map Component\n */\nexport default connect(mapStateToProps)(List);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/list/List.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Parser as HtmlToReactParser } from 'html-to-react';\n\n/**\n * The Location component.\n * Used in the location list.\n */\nclass Location extends Component {\n  /**\n   * Replaces any trailing '+' and whitespace and any spaces left with '+'\n   *\n   * @param address\n   * @returns String\n   */\n  static cleanAddress(address) {\n    if (address) {\n      if (typeof address === 'string') {\n        return address.replace(/([+\\s]+$)/g, '').replace(/(\\s)/g, '+');\n      }\n    }\n    return '';\n  }\n\n  /**\n   * Rounds the distance\n   *\n   * @return Boolean | String\n   */\n  getDistance() {\n    const { location } = this.props;\n    const distance = location.Distance;\n\n    if (distance === -1) {\n      return false;\n    }\n\n    return distance.toFixed(2);\n  }\n\n  /**\n   * Gets the daddr string for google maps directions\n   * @returns {string}\n   */\n  getDaddr() {\n    const { location } = this.props;\n    let daddr = '';\n\n    if (location.Address) {\n      daddr += `${location.Address}+`;\n    }\n\n    if (location.Address2) {\n      daddr += `${location.Address2}+`;\n    }\n\n    if (location.City) {\n      daddr += `${location.City}+`;\n    }\n\n    if (location.State) {\n      daddr += `${location.State}+`;\n    }\n\n    if (location.PostalCode) {\n      daddr += location.PostalCode;\n    }\n\n    return Location.cleanAddress(daddr);\n  }\n\n  /**\n   * Gets the class for the rendered component\n   * @return {string}\n   */\n  getClassName() {\n    const {\n      index, current,\n    } = this.props;\n    let className = 'list-location';\n    // if it should be focused\n    if (current) {\n      className += ' focus';\n    }\n    // if it is even (needed because the list acts odd with :nth-child)\n    if (index % 2 === 0) {\n      className += ' even';\n    }\n    // if it is first (needed because the list acts odd with :nth-child)\n    if (index === 0) {\n      className += ' first';\n    }\n    return className;\n  }\n\n  /**\n   * renders the component\n   * @returns {XML}\n   */\n  render() {\n    const {\n      location, index, search, template, unit, onClick,\n    } = this.props;\n    const htmlToReactParser = new HtmlToReactParser();\n\n    const loc = {\n      ...location,\n      Distance: this.getDistance(),\n      DirectionsLink: `http://maps.google.com/maps?saddr=${Location.cleanAddress(search)}&daddr=${this.getDaddr()}`,\n      Unit: unit,\n      Number: index + 1,\n    };\n\n    const id = `loc-${location.ID}`;\n    const className = this.getClassName();\n\n    return (\n      // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events\n      <div\n        id={id}\n        data-markerid={index}\n        className={className}\n        onClick={() => onClick(location.ID)}\n        role=\"listitem\"\n      >\n        {htmlToReactParser.parse(template(loc))}\n      </div>\n    );\n  }\n}\n\n/**\n * defines the prop types\n * @type {{location, index: *}}\n */\nLocation.propTypes = {\n  location: PropTypes.shape({\n    Title: PropTypes.string,\n    Address: PropTypes.string,\n    Address2: PropTypes.string,\n    City: PropTypes.string,\n    State: PropTypes.string,\n    PostalCode: PropTypes.string,\n    Website: PropTypes.string,\n    Phone: PropTypes.string,\n    Email: PropTypes.string,\n    Distance: PropTypes.number,\n  }).isRequired,\n  index: PropTypes.number.isRequired,\n  current: PropTypes.bool.isRequired,\n  search: PropTypes.bool.isRequired,\n  unit: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  template: PropTypes.func.isRequired,\n};\n\n/**\n * Exports the Location components\n */\nexport default Location;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/list/Location.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * The Pagination component.\n * Renders the pagination for the location list.\n */\nclass Pagination extends Component {\n  getLastPage() {\n    const { count, defaultLimit } = this.props;\n    const lim = defaultLimit;\n\n    return Math.ceil(count / defaultLimit);\n  }\n\n  getPageNumbers() {\n    const { page } = this.props;\n    const lastPage = this.getLastPage();\n    const range = 2;\n\n    let rangeStart = page - range;\n    let rangeEnd = page + range;\n\n    if (rangeEnd > lastPage) {\n      rangeEnd = lastPage;\n      rangeStart = lastPage - range * 2;\n      rangeStart = rangeStart < 1 ? 1 : rangeStart;\n    }\n\n    if (rangeStart <= 1) {\n      rangeStart = 1;\n      rangeEnd = Math.min(range * 2 + 1, lastPage);\n    }\n\n    // from https://stackoverflow.com/a/33457557\n    return Array(rangeEnd - rangeStart + 1).fill().map((_, index) => rangeStart + index);\n  }\n\n  renderPageLinks() {\n    const { page, goToPage } = this.props;\n    const numbers = this.getPageNumbers();\n\n    return numbers.map((num) => {\n      if (page === num) {\n        return (\n          <li className=\"page-item active\" key={num}>\n            <span className=\"page-link\">\n              {num}\n              <span className=\"sr-only\">(current)</span>\n            </span>\n          </li>\n        );\n      } else {\n        return (\n          <li className=\"page-item\" key={num} onClick={() => goToPage(num)}>\n            <a className=\"page-link\">{num}</a>\n          </li>\n        );\n      }\n    });\n  }\n\n  render() {\n    const { count, page, goToPage } = this.props;\n    const previousClasses = page <= 1 ? \"page-item disabled\" : \"page-item\";\n    const previousAction = page <= 1 ? () => {} : () => goToPage(page - 1);\n\n    const nextClasses = page >= this.getLastPage() ? \"page-item disabled\" : \"page-item\";\n    const nextAction = page >= this.getLastPage() ? () => {} : () => goToPage(page + 1);\n\n\n    if (this.getPageNumbers().length > 1) {\n      return (\n        <ul className=\"pagination\">\n          <li className={previousClasses}>\n            <a className=\"page-link\" aria-label=\"Previous\" onClick={previousAction}>\n              <span aria-hidden=\"true\">&laquo;</span>\n              <span className=\"sr-only\">Previous</span>\n            </a>\n          </li>\n          {this.renderPageLinks()}\n          <li className={nextClasses}>\n            <a className=\"page-link\" aria-label=\"Next\" onClick={nextAction}>\n              <span aria-hidden=\"true\">&raquo;</span>\n              <span className=\"sr-only\">Next</span>\n            </a>\n          </li>\n        </ul>\n      );\n    }\n    return null;\n  }\n}\n\nPagination.propTypes = {\n  page: PropTypes.number.isRequired,\n  count: PropTypes.number.isRequired,\n  defaultLimit: PropTypes.number.isRequired,\n  goToPage: PropTypes.func.isRequired,\n};\n\nexport default Pagination;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/list/Pagination.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\n// exported for tests\nexport class Loading extends Component {\n  render() {\n    const { isLoading } = this.props;\n    if (isLoading) {\n      return (\n        <div className=\"loading show\">\n          <div className=\"loading-content\">\n            <div className=\"spinner\" />\n            <span>Loading</span>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"loading\" />\n    );\n  }\n}\n\nLoading.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport function mapStateToProps(state) {\n  return {\n    isLoading: state.map.isLoading,\n  };\n}\n\nexport default connect(mapStateToProps)(Loading);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/Loading.jsx"],"sourceRoot":""}